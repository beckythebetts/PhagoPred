<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.1 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Cell Death Detection - Phagocytosis Outcome Prediction</title>
<meta name="description" content="">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Phagocytosis Outcome Prediction">
<meta property="og:title" content="Cell Death Detection">
<meta property="og:url" content="http://localhost:4000/PhagoPred/Segmentation/CellDeathDetection/">













<link rel="canonical" href="http://localhost:4000/PhagoPred/Segmentation/CellDeathDetection/">












<!-- end _includes/seo.html -->



  <link href="/PhagoPred/feed.xml" type="application/atom+xml" rel="alternate" title="Phagocytosis Outcome Prediction Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/PhagoPred/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/PhagoPred/">
          Phagocytosis Outcome Prediction
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      
      
        <li>
          
            <a href="/PhagoPred/"><span class="nav__sub-title">Overview</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/PhagoPred/Imaging/"><span class="nav__sub-title">1. Imaging</span></a>
          

          
          <ul>
            
              <li><a href="/PhagoPred/Imaging/ImagingConditionsValidity">Imaging Conditions Validity</a></li>
            
          </ul>
          
        </li>
      
        <li>
          
            <a href="/PhagoPred/Segmentation/"><span class="nav__sub-title">2. Segmentation</span></a>
          

          
          <ul>
            
              <li><a href="/PhagoPred/Segmentation/CellDeathDetection">Cell Death Detection</a></li>
            
              <li><a href="/PhagoPred/Segmentation/LossFunctions">Loss Functions</a></li>
            
          </ul>
          
        </li>
      
        <li>
          
            <a href="/PhagoPred/Tracking/"><span class="nav__sub-title">3. Tracking</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/PhagoPred/FeatureExtraction/"><span class="nav__sub-title">4. Feature Extraction</span></a>
          

          
        </li>
      
        <li>
          
            <a href="/PhagoPred/DatasetStructure/"><span class="nav__sub-title">Dataset Structure</span></a>
          

          
        </li>
      
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Cell Death Detection">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="http://localhost:4000/PhagoPred/Segmentation/CellDeathDetection/" itemprop="url">Cell Death Detection
</a>
          </h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              
            </nav>
          </aside>
        
        <p>In order to identify when a macrophage dies, the Mask R-CNN model can be trained on images containing both alive and dead cells. In general here, the moment of cell death is taken as when the cell looses itâ€™s structure and the membrane can no longer be clearly defined. (Cells often ball up and exhibit membrane blebbing before this occurs.)
<img src="/PhagoPred/images/CellDeathMontage.png" alt="Images of cell death" />
KFold cross validation on the training images (taking one image out for validation per fold), suggested that this performed reasonably:
<img src="/PhagoPred/images/maskrcnn_performance.png" alt="Preciison recall curves for alive and dead macropahages" />
These classifications could then be used to identify the frame of cell death. It was assumed there would be some noise in the classifications, so alive cells were asigned a score 1, and dead cells 0. These scores were then smoothed for each cell over time (by taking a 5 frame rolling average) and the cell death was taken as the first frame for which the score dropped below 0.5 for at least 10 frames. However, as shown below, this did not accurately identify cell death. Average error was 56.5 frames.
<img src="/PhagoPred/images/CellDeathPredictionAccuracy.png" alt="Predicted vs true cell death frame" />
The training images contained both alive and dead cells. However, cell appearance changed significantly just before death. So to accurately identify the exact frame of death, training data of cells just before and just after death would be required. 
For 50 cells, the exact frame of death was manually identified. Frames [1, 2, 3, 4, 5, 50, 100, 150, 200] before and after this were used to create a new fine tuning dataset. Images were cropped to the region of the cell to ensure all masks were correct. A training and validation set were crated with an 80/20 split. Below is the results of the original model, as well as the results after fine tuning:</p>
<ol>
  <li>Just the classificaiton head</li>
  <li>The whole ROI head</li>
  <li>The entire model
<img src="/PhagoPred/images/cms.png" alt="Confusion matrices before and after fine tuning" />
The resulting accuracies are either lower than or the same as when doing no fine tuning, more training data is probably needed.
More cells were added to the training set (total 200 cells). For each cell a random frame between 1 and 10 frames before cell death was selected, a frame 100 frames before cell death and a random frame between1 and 10 frames after cell death. False psitive segmentations and incorrectly merged cells (undersegmentation) were also corrected and added to the dataset.</li>
</ol>

        
      </section>

      <footer class="page__meta">
        
        


        

      </footer>

      

      

    </div>

    
  </article>

  
  
</div>

      
    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/PhagoPred/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 <a href="http://localhost:4000">Phagocytosis Outcome Prediction</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

     <script type="text/javascript" async
   src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-MML-AM_CHTML">
 </script>

 <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      extensions: ["tex2jax.js"],
      jax: ["input/TeX", "output/HTML-CSS"],
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true
      },
      "HTML-CSS": {
        availableFonts: ["TeX"],
        scale: 120
      }
    });
 </script>
  </body>
</html>
